<!DOCTYPE html>
<html lang="pt">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Jogo Interativo</title>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/p5.js/1.4.0/p5.js"></script>
    <style>
        body, html {
            margin: 0;
            padding: 0;
            overflow: hidden; /* Evita a barra de rolagem */
        }
    </style>
</head>
<body>
    <script>
        let emojis = [];
        let timer = 30;
        let showQuestion = false;
        let initialMessageTime = 7;
        let volumeYes = 70; // Volume inicial do 'SIM' em porcentagem
        let volumeNo = 30;  // Volume inicial do 'N√ÉO'

        function setup() {
            createCanvas(windowWidth, windowHeight);
            textAlign(CENTER, CENTER);
            textSize(24);
            frameRate(30);

            for (let i = 0; i < 50; i++) {
                emojis.push(new Emoji());
            }

            setTimeout(() => {
                initialMessageTime = 0; // Termina o tempo da mensagem inicial
                setInterval(() => {
                    if (timer > 0) timer--;
                }, 1000); // Come√ßa a contar depois de 7 segundos
            }, 7000);
        }

        function draw() {
            background(0);

            if (initialMessageTime > 0) {
                fill(255);
                text("VOC√ä ENTROU AQUI E N√ÉO PODER√Å SAIR AT√â RESPONDER A PR√ìXIMA PERGUNTA,\nCASO CONTR√ÅRIO, SEU CELULAR VAI EXPLODIR", width / 2, height / 2);
                emojis.forEach(emoji => {
                    emoji.move();
                    emoji.display();
                });
            } else if (timer > 0) {
                drawTimer();
                drawFluidButtons();
            } else if (showQuestion) {
                fill(255);
                textSize(32);
                text("ME LIBERA?", width / 2, height * 0.2);
                drawFluidButtons();
            }
        }

        function drawTimer() {
            fill(timer % 2 == 0 ? color(255, 0, 0) : color(255));
            textSize(16);
            text(`00:${timer < 10 ? '0' + timer : timer} üí£`, width / 2, height * 0.05);
            if (timer === 0) {
                showQuestion = true;
            }
        }

        function drawFluidButtons() {
            noFill();
            stroke(255);
            rect(0, height * 0.3, width, height * 0.7); // Desenha a √°rea total para os bot√µes

            fill('#007BFF');
            noStroke();
            rect(0, height * 0.3, width, height * 0.7 * (volumeYes / 100)); // √Årea do SIM

            fill('#FF0000');
            rect(0, height * 0.3 + height * 0.7 * (volumeYes / 100), width, height * 0.7 * (volumeNo / 100)); // √Årea do N√ÉO

            let textSizeYes = 32 * (volumeYes / 70); // Ajusta o tamanho do texto baseado no volume
            let textSizeNo = 32 * (volumeNo / 30); // Ajusta o tamanho do texto baseado no volume
            textSize(textSizeYes);
            fill(255);
            text('SIM', width / 2, height * 0.3 + height * 0.35 * (volumeYes / 100)); // Texto do SIM
            textSize(textSizeNo);
            text('N√ÉO', width / 2, height * 0.3 + height * 0.7 * (volumeYes / 100) + height * 0.35 * (volumeNo / 100)); // Texto do N√ÉO
        }

        function mousePressed() {
            if (mouseY > height * 0.3 && mouseY < height * 0.3 + height * 0.7 * (volumeYes / 100)) {
                window.open('https://youtu.be/MqdlE7BIpnE', '_blank'); // Abre o v√≠deo em uma nova aba
            }
            if (mouseY > height * 0.3 + height * 0.7 * (volumeYes / 100) && mouseY < height) {
                volumeNo -= 5;
                volumeYes += 5;
                if (volumeNo <= 0) {
                    volumeNo = 0;
                    volumeYes = 100;
                }
            }
        }

        function Emoji() {
            this.x = random(width);
            this.y = random(height);
            this.speed = random(1, 5);

            this.move = function() {
                this.y -= this.speed;
                if (this.y < 0) {
                    this.y = height;
                }
            };

            this.display = function() {
                textSize(32);
                text('üëå', this.x, this.y);
            };
        }
    </script>
</body>
</html>
